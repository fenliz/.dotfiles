#############
# Modifier
#
    unbind C-b
    set-option -g prefix C-a
    bind-key C-a send-prefix
#
#############
# Settings
#
    set -g base-index 1
    set renumber-windows on

    set -g mode-keys vi

    set-option -g set-titles on
    set-option -g default-command /bin/zsh
    set-option -g default-shell /bin/zsh

    set -ga terminal-overrides ",xterm-256color:Tc"
    # set -g default-terminal "screen-256color"
    # set -ga terminal-overrides ",alacritty:RGB"
    set -s escape-time 0
#
#############
# Keybindings
#
    bind D run-shell 'tmux-sessionizer .dotfiles'
    bind A run-shell 'tmux-sessionizer archon'
    bind F run-shell 'tmux-sessionizer framtidskortet'
    bind f split-window 'source ~/.fzf.zsh; tmux-sessionizer'
    bind P split-window 'source ~/.fzf.zsh; tmux-script-runner'


    # Pane movement
    bind h select-pane -L
    bind j select-pane -D
    bind k select-pane -U
    bind l select-pane -R

    # Window resize
    bind H resize-pane -L 10
    bind J resize-pane -D 10
    bind K resize-pane -U 10
    bind L resize-pane -R 10

    # # Move between recetly open windows
    # bind -r C-h select-window -t :-
    # bind -r C-l select-window -t :+
#
#############
# Plugins
#
    set -g @plugin 'tmux-plugins/tpm'

    # Recommended settings
    set -g @plugin 'tmux-plugins/tmux-sensible'

    # Auto-save current sessions
    set -g @plugin 'tmux-plugins/tmux-resurrect'
    set -g @plugin 'tmux-plugins/tmux-continuum'
    set -g @continuum-restore 'on'

    # Copy to system clipboard
    set -g @plugin 'tmux-plugins/tmux-yank'

    # Common navigation for tmux and vim
    set -g @plugin 'christoomey/vim-tmux-navigator'

    # More copy & search functionality
    set -g @plugin 'tmux-plugins/tmux-copycat'

    # Notifications when processes complete
	set -g @plugin 'ChanderG/tmux-notify'

    run '~/.tmux/plugins/tpm/tpm'
#
#############
# Theme
#
    thm_bg="#1e1e28"
    thm_fg="#dadae8"
    thm_cyan="#c2e7f0"
    thm_black="#15121c"
    thm_gray="#332e41"
    thm_magenta="#c6aae8"
    thm_pink="#e5b4e2"
    thm_red="#e38c8f"
    thm_green="#b1e3ad"
    thm_yellow="#ebddaa"
    thm_blue="#a4b9ef"
    thm_orange="#f9c096"
    thm_black4="#575268"

    set -g status-position bottom
    set -g status "on"
    set -g status-bg "${thm_bg}"
    set -g status-justify "left"
    set -g status-left-length "100"
    set -g status-right-length "100"

    set -g message-style fg="${thm_cyan}",bg="${thm_gray}",align="centre"
    set -g message-command-style fg="${thm_cyan}",bg="${thm_gray}",align="centre"

    set -g pane-border-style fg="${thm_gray}"
    set -g pane-active-border-style fg="${thm_blue}"

    setw -g window-status-activity-style fg="${thm_fg}",bg="${thm_bg}",none
    setw -g window-status-separator ""
    setw -g window-status-style fg="${thm_fg}",bg="${thm_bg}",none

    set -g status-left ""
    set -g status-right "#[fg=$thm_pink,bg=$thm_bg,nobold,nounderscore,noitalics]#[fg=$thm_bg,bg=$thm_pink,nobold,nounderscore,noitalics] #[fg=$thm_fg,bg=$thm_gray] #W #{?client_prefix,#[fg=$thm_red],#[fg=$thm_green]}#[bg=$thm_gray]#{?client_prefix,#[bg=$thm_red],#[bg=$thm_green]}#[fg=$thm_bg] #[fg=$thm_fg,bg=$thm_gray] #S "

    setw -g window-status-format "#[fg=$thm_bg,bg=$thm_black4] #I#[fg=$thm_black4,bg=$thm_gray]#[fg=$thm_fg,bg=$thm_gray] #{b:pane_current_path} "
    setw -g window-status-current-format "#[fg=$thm_bg,bg=$thm_magenta] #I#[fg=$thm_magenta,bg=$thm_bg]#[fg=$thm_fg,bg=$thm_bg] #{b:pane_current_path} "
#
#############
